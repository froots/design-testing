@@ set
    gridLogin ${sauceUser}:${sauceKey}
    gridUrl http://${gridLogin}@ondemand.saucelabs.com:80/wd/hub

@@ table desktopBrowsers
    | browser   | gridArgs                                                                            |
    | firefox   | --dc.browserName "firefox" --dc.version "42" --dc.platform "Windows 10"             |
    | chrome    | --dc.browserName "chrome" --dc.version "46" --dc.platform "Windows 10"              |
    | ie11      | --dc.browserName "internet explorer" --dc.version "11.0" --dc.platform "Windows 10" |

@@ table mobileBrowsers
    | browser     | gridArgs                                                                                                                                 |
    | iPhone 6    | --dc.browserName "iphone" --dc.version "9.1" --dc.deviceName "iPhone 6" --dc.platform "OS X 10.10" --dc.deviceOrientation "portrait"     |
    | Android 4.4 | --dc.browserName "android" --dc.version "4.4" --dc.deviceName "Android Emulator" --dc.platform "Linux" --dc.deviceOrientation "portrait" |

@@ table tabletBrowsers
    | browser     | gridArgs                                                                                                                                |
    | iPad Air    | --dc.browserName "iphone" --dc.version "9.1" --dc.deviceName "iPad Retina" --dc.platform "OS X 10.10" --dc.deviceOrientation "portrait" |

@@ table viewports
    | viewportName | tags          | size     |
    | narrow       | narrow_screen | 540x960  |
    | wide         | wide_screen   | 1280x960 |

@@ parameterized using desktopBrowsers
@@ parameterized using viewports
Search component on ${browser} with ${viewportName} screen
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/search.html ${gridArgs} --size ${size}
        check test/visual/specs/search.gspec --include "${tags},all"

@@ parameterized using mobileBrowsers
Search component on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/search.html ${gridArgs}
        check test/visual/specs/search.gspec --include "narrow_screen"

@@ parameterized using tabletBrowsers
Search component on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/search.html ${gridArgs}
        check test/visual/specs/search.gspec --include "wide_screen"