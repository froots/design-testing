@@ set
    gridLogin ${browserStackUser}:${browserStackKey}
    gridUrl http://${gridLogin}@hub.browserstack.com/wd/hub
    standardGridArgs --dc.project "Design Testing" --dc.resolution 1600x1200

@@ table desktopBrowsers
    | browser   | gridArgs                                                                                     |
    | Firefox   | --dc.browser "Firefox" --dc.browser_version "46" --dc.os "WINDOWS" --dc.os_version "10"      |
    | Chrome    | --dc.browser "Chrome" --dc.browser_version "50" --dc.os "WINDOWS" --dc.os_version "10"       |
    | IE11      | --dc.browser "IE" --dc.browser_version "11" --dc.os "WINDOWS" --dc.os_version "10"           |
    | Safari    | --dc.browser "Safari" --dc.browser_version "9.1" --dc.os "OS X" --dc.os_version "El Capitan" |

@@ table mobileBrowsers
    | browser                 | gridArgs                                                                                                   |
    | iPhone 6                | --dc.device "iPhone 6" --dc.os "ios" --dc.browser "iPhone" --dc.deviceOrientation "portrait"               |
    | iPhone 5s               | --dc.device "iPhone 5S" --dc.os "ios" --dc.browser "iPhone" --dc.deviceOrientation "portrait"              |
    | Google Nexus 5 / 5.0    | --dc.device "Google Nexus 5" --dc.os "android" --dc.browser "Android" --dc.deviceOrientation "portrait"    |
    | Samsung Galaxy S5 / 4.4 | --dc.device "Samsung Galaxy S5" --dc.os "android" --dc.browser "Android" --dc.deviceOrientation "portrait" |

@@ table tabletBrowsers
    | browser     | gridArgs                                                                                                        |
    | iPad Air 2  | --dc.device "iPad Air 2" --dc.os "ios" --dc.browser "iPad" --dc.deviceOrientation "portrait"                    |
    | iPad Mini 2 | --dc.device "iPad Mini 2" --dc.os "ios" --dc.browser "iPad" --dc.deviceOrientation "portrait"                   |
    | Kindle Fire | --dc.device "Amazon Kindle Fire HDX 7" --dc.os "android" dc.browser "Android" --dc.deviceOrientation "portrait" |

@@ table viewports
    | viewportName | tags          | size     |
    | narrow       | narrow_screen | 540x960  |
    | wide         | wide_screen   | 1280x960 |

@@ groups search, desktop
@@ parameterized using desktopBrowsers
@@ parameterized using viewports
Search component on ${browser} with ${viewportName} screen
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/search.html ${gridArgs} ${standardGridArgs} --size ${size}
        check test/visual/specs/search.gspec --include "${tags},all"

@@ groups search, mobile
@@ parameterized using mobileBrowsers
Search component on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/search.html ${gridArgs} ${standardGridArgs}
        check test/visual/specs/search.gspec --include "narrow_screen"

@@ groups search, tablet
@@ parameterized using tabletBrowsers
Search component on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/search.html ${gridArgs} ${standardGridArgs}
        check test/visual/specs/search.gspec --include "wide_screen"

@@ groups layout, desktop
@@ parameterized using desktopBrowsers
@@ parameterized using viewports
Main layout without nav on ${browser} with ${viewportName} screen
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/layout.html ${gridArgs} ${standardGridArgs} --size ${size}
        check test/visual/specs/layout.gspec --include "${tags},all"

@@ groups layout, mobile
@@ parameterized using mobileBrowsers
Main layout without nav on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/layout.html ${gridArgs} ${standardGridArgs}
        check test/visual/specs/layout.gspec --include "narrow_screen,all"

@@ groups layout, tablet
@@ parameterized using tabletBrowsers
Main layout without nav on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/layout.html ${gridArgs} ${standardGridArgs}
        check test/visual/specs/layout.gspec --include "wide_screen,all"

@@ groups layout, mobile
@@ parameterized using mobileBrowsers
Main layout with nav on ${browser}
    selenium grid ${gridUrl} --page ${baseUrl}styleguide/layout.html ${gridArgs} ${standardGridArgs}
        run test/visual/scripts/shownav.js
        check test/visual/specs/layout.gspec --include "narrow_screen_nav"
